# æ¤ç‰©è¦³å¯Ÿã‚¢ãƒ—ãƒª - CLAUDEé–‹ç™ºç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**æ¤ç‰©è¦³å¯Ÿã‚¢ãƒ—ãƒª**ã¯ã€æ¤ç‰©æ„›å¥½å®¶ãŒæ—¥ã€…ã®æ¤ç‰©è¦³å¯Ÿè¨˜éŒ²ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã§ãã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚æ¤ç‰©ã®ç™»éŒ²ã‹ã‚‰è¦³å¯Ÿè¨˜éŒ²ã€æ°´ã‚„ã‚Šç®¡ç†ã¾ã§ä¸€é€£ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½
- æ¤ç‰©ã®ç™»éŒ²ãƒ»ç®¡ç†ï¼ˆç·¨é›†ãƒ»å‰Šé™¤ï¼‰
- è¦³å¯Ÿè¨˜éŒ²ã®ä½œæˆãƒ»è¡¨ç¤ºãƒ»ç·¨é›†
- æ°´ã‚„ã‚Šã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ãƒ»é€šçŸ¥
- å†™çœŸæ·»ä»˜æ©Ÿèƒ½
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

## ç¾åœ¨ã®é–‹ç™ºçŠ¶æ³

### âœ… å®Œäº†æ¸ˆã¿
1. **æ©Ÿèƒ½è¦ä»¶å®šç¾©**
   - MVPæ©Ÿèƒ½è¦ä»¶æ›¸ä½œæˆï¼ˆ`docs/mvp-features.md`ï¼‰
   - å®Œå…¨ãªæ©Ÿèƒ½è¦ä»¶æ›¸ä½œæˆï¼ˆ`docs/features.md`ï¼‰

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»å®Ÿè£…**
   - ERå›³è¨­è¨ˆãƒ»æ­£è¦åŒ–å®Œäº†
   - PostgreSQLç”¨ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆ`docs/database-schema.sql`ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸ä½œæˆï¼ˆ`docs/database-design.md`ï¼‰
   - **Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒæ§‹ç¯‰å®Œäº†**
   - **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒé©ç”¨å®Œäº†**
   - **RLSï¼ˆRow Level Securityï¼‰è¨­å®šå®Œäº†**
   - **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Šå¯¾å¿œå®Œäº†**

3. **èªè¨¼è¨­è¨ˆ**
   - Supabase Authæ´»ç”¨è¨­è¨ˆ
   - èªè¨¼è¨­è¨ˆæ›¸ä½œæˆï¼ˆ`docs/authentication-design.md`ï¼‰
   - èªè¨¼æ–¹å¼ï¼šãƒ¡ãƒ¼ãƒ«+ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€Googleã€GitHub

4. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Œæˆ**
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
   - èªè¨¼ãƒšãƒ¼ã‚¸ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
   - æ©Ÿèƒ½ãƒšãƒ¼ã‚¸ï¼ˆæ¤ç‰©ç™»éŒ²ã€è¦³å¯Ÿè¨˜éŒ²ã€æ°´ã‚„ã‚Šç®¡ç†ç­‰ï¼‰
   - ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿çŠ¶æ…‹ã®UIå®Œæˆ

5. **Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
   - Next.js 15.4.2 + React 19.1.0 + TypeScript
   - Tailwind CSS v4è¨­å®š
   - App Routeræ§‹æˆ
   - **Next.jsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸ä½œæˆ**ï¼ˆ`docs/nextjs-component-design.md`ï¼‰

6. **Supabaseãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ**
   - **Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†**
   - **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå®Œäº†**
   - **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼é©ç”¨å®Œäº†**
   - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ä½œæˆï¼ˆ`docs/supabase-local-setup.md`ï¼‰

### ğŸ”„ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
- ç’°å¢ƒå¤‰æ•°è¨­å®š
- èªè¨¼æ©Ÿèƒ½å®Ÿè£…
- åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸å®Ÿè£…

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Next.js 15.4.2** - ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆApp Routerï¼‰
- **React 19.1.0** - UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript** - å‹å®‰å…¨æ€§
- **Tailwind CSS v4** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆæœ€æ–°ç‰ˆï¼‰
- **React Hook Form** - ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
- **TanStack Query** - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç®¡ç†
- **Jotai** - ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªçŠ¶æ…‹ç®¡ç†

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Supabase** - BaaS (Backend as a Service)
- **Supabase Auth** - èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹
- **PostgreSQL** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Row Level Security** - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **Supabase CLI** - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

### é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **Turbopack** - é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼ˆNext.jsä»˜å±ï¼‰
- **Jest** - ãƒ†ã‚¹ãƒˆ
- **GitHub Actions** - CI/CD
- **Vercel** - ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆäºˆå®šï¼‰

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
plantlog/
â”œâ”€â”€ docs/                              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ features.md                   # å®Œå…¨æ©Ÿèƒ½è¦ä»¶æ›¸
â”‚   â”œâ”€â”€ mvp-features.md               # MVPæ©Ÿèƒ½è¦ä»¶æ›¸
â”‚   â”œâ”€â”€ database-design.md            # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ database-schema.sql           # åˆæœŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ database-schema-v2.sql        # æ”¹è‰¯ç‰ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ authentication-design.md      # èªè¨¼è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ nextjs-component-design.md    # Next.jsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ supabase-local-setup.md       # Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ prototype/                    # ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—HTML
â”‚   â”‚   â”œâ”€â”€ index.html                # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ login.html                # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ signup.html               # ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ plant-register.html       # æ¤ç‰©ç™»éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ plant-list.html           # æ¤ç‰©ä¸€è¦§ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ diary-entry.html          # è¦³å¯Ÿè¨˜éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ watering.html             # æ°´ã‚„ã‚Šç®¡ç†ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ production/                   # æœ¬ç•ªç”¨ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—HTML
â”‚       â”œâ”€â”€ home.html                 # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆæœ¬ç•ªç‰ˆï¼‰
â”‚       â”œâ”€â”€ login.html                # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆæœ¬ç•ªç‰ˆï¼‰
â”‚       â”œâ”€â”€ plant-list.html           # æ¤ç‰©ä¸€è¦§ãƒšãƒ¼ã‚¸ï¼ˆæœ¬ç•ªç‰ˆï¼‰
â”‚       â””â”€â”€ plant-register.html       # æ¤ç‰©ç™»éŒ²ãƒšãƒ¼ã‚¸ï¼ˆæœ¬ç•ªç‰ˆï¼‰
â”œâ”€â”€ src/                              # Next.jsã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â””â”€â”€ app/                          # App Router
â”‚       â”œâ”€â”€ globals.css               # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚       â”œâ”€â”€ layout.tsx                # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚       â””â”€â”€ page.tsx                  # ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸
â”œâ”€â”€ supabase/                         # Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
â”‚   â”œâ”€â”€ config.toml                   # Supabaseè¨­å®š
â”‚   â””â”€â”€ migrations/                   # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ 20250101000000_initial_schema.sql      # åˆæœŸã‚¹ã‚­ãƒ¼ãƒ
â”‚       â”œâ”€â”€ 20250101000001_enable_rls.sql          # RLSæœ‰åŠ¹åŒ–
â”‚       â”œâ”€â”€ 20250101000002_fix_function_security.sql # é–¢æ•°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£
â”‚       â””â”€â”€ 20250101000003_fix_plant_types_rls.sql  # plant_types RLSä¿®æ­£
â”œâ”€â”€ package.json                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ next.config.ts                    # Next.jsè¨­å®š
â”œâ”€â”€ tsconfig.json                     # TypeScriptè¨­å®š
â”œâ”€â”€ CLAUDE.md                         # æœ¬ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md                         # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«
1. **plant_types** - æ¤ç‰©ç¨®é¡ãƒã‚¹ã‚¿ãƒ¼
2. **plants** - æ¤ç‰©æƒ…å ±
3. **observation_records** - è¦³å¯Ÿè¨˜éŒ²
4. **watering_records** - æ°´ã‚„ã‚Šè¨˜éŒ²
5. **photos** - å†™çœŸç®¡ç†
6. **edit_history** - ç·¨é›†å±¥æ­´
7. **user_profiles** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

### ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—
- Plants 1:N Observation_Records
- Plants 1:N Watering_Records
- Plants 1:N Photos (æ¤ç‰©å†™çœŸ)
- Observation_Records 1:N Photos (è¦³å¯Ÿå†™çœŸ)
- Observation_Records 1:N Edit_History

## èªè¨¼è¨­è¨ˆ

### å¯¾å¿œèªè¨¼æ–¹å¼
- **ãƒ¡ãƒ¼ãƒ«+ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼**ï¼ˆå¿…é ˆï¼‰
- **Googleèªè¨¼**ï¼ˆæ¨å¥¨ï¼‰
- **GitHubèªè¨¼**ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½
- Row Level Securityï¼ˆRLSï¼‰
- JWTèªè¨¼
- å…¥åŠ›æ¤œè¨¼
- XSSå¯¾ç­–

## ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä»•æ§˜

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **ãƒ¢ãƒã‚¤ãƒ«**ï¼šã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³æœ€é©åŒ–ï¼ˆmax-w-smï¼‰
- **PC**ï¼šãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æœ€é©åŒ–ï¼ˆmax-w-6xlï¼‰
- **ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**ï¼šTailwind CSS `lg:` (1024px)

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼**ï¼š#22c55e (ç·‘è‰²)
- **ãƒ•ã‚©ãƒ³ãƒˆ**ï¼šInter, Noto Sans JP
- **ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**ï¼šã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ä¸­å¿ƒ

### èªè¨¼çŠ¶æ…‹
- **èªè¨¼å‰**ï¼šãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **èªè¨¼å¾Œ**ï¼šå…¨æ©Ÿèƒ½ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤º

## é–‹ç™ºæŒ‡é‡

### ã‚³ãƒ¼ãƒ‰å“è³ª
- TypeScript strict mode
- ESLint + Prettier
- Husky (pre-commit hooks)
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã®ãƒ†ã‚¹ãƒˆ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ç”»åƒæœ€é©åŒ–
- é…å»¶èª­ã¿è¾¼ã¿
- React.memoæ´»ç”¨
- Bundle sizeæœ€é©åŒ–

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- å…¥åŠ›æ¤œè¨¼
- XSSå¯¾ç­–
- CSRFå¯¾ç­–
- æ©Ÿå¯†æƒ…å ±ã®ç’°å¢ƒå¤‰æ•°åŒ–

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‘½å
- **kebab-case** ã‚’ä½¿ç”¨ï¼š`user-profile`ã€`admin-panel`
- è¤‡æ•°å½¢ã¯å¿…è¦ã«å¿œã˜ã¦ï¼š`components`ã€`utils`ã€`types`

#### ãƒ•ã‚¡ã‚¤ãƒ«å‘½å
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: PascalCase + `.tsx` â†’ `UserProfile.tsx`
- **ãƒšãƒ¼ã‚¸**: kebab-case + `.tsx` â†’ `user-profile.tsx`
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**: camelCase + `.ts` â†’ `formatDate.ts`
- **å‹å®šç¾©**: PascalCase + `.types.ts` â†’ `User.types.ts`

```
src/
â”œâ”€â”€ app/           # App Router
â”œâ”€â”€ components/    # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ lib/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â”œâ”€â”€ types/        # å‹å®šç¾©
â””â”€â”€ hooks/        # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

#### è²¬å‹™ã®åˆ†é›¢
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯**å˜ä¸€è²¬ä»»ã®åŸå‰‡**ã«å¾“ã£ã¦åˆ†å‰²ã™ã‚‹

```tsx
// âœ… è‰¯ã„ä¾‹ï¼šè²¬å‹™ã”ã¨ã«åˆ†å‰²
function UserDashboard() {
  return (
    <div>
      <UserProfile />
      <UserSettings />
      <NotificationList />
    </div>
  )
}
```

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é¡
- **Page Component**: ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ç®¡ç†ï¼ˆApp Routerã®page.tsxï¼‰
- **Layout Component**: å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **Feature Component**: æ©Ÿèƒ½å˜ä½ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **UI Component**: æ±ç”¨çš„ãªUIãƒ‘ãƒ¼ãƒ„

### TypeScriptæ´»ç”¨

#### å‹å®šç¾©ã®åŸºæœ¬
```tsx
// propsã®å‹ã¯å¿…ãšå®šç¾©
interface UserCardProps {
  user: User
  onEdit?: (userId: string) => void
  showActions?: boolean
}

// çŠ¶æ…‹ã®å‹ã‚‚æ˜ç¢ºã«
interface FormState {
  isLoading: boolean
  error: string | null
  data: User | null
}
```

#### å‹å®‰å…¨ãªAPIå‘¼ã³å‡ºã—
```tsx
// APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹ã‚’å®šç¾©
interface ApiResponse<T> {
  data: T
  message: string
  success: boolean
}

// ä½¿ç”¨ä¾‹
const fetchUser = async (id: string): Promise<ApiResponse<User>> => {
  const response = await fetch(`/api/users/${id}`)
  return response.json()
}
```

### Hooksæ´»ç”¨

#### ã‚«ã‚¹ã‚¿ãƒ Hooksã§é–¢å¿ƒã®åˆ†é›¢
```tsx
// ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢
function useUserData(userId: string) {
  const [user, setUser] = useState<User | null>(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    // ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ­ã‚¸ãƒƒã‚¯
  }, [userId])

  return { user, loading }
}

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯UIã«é›†ä¸­
function UserProfile({ userId }: Props) {
  const { user, loading } = useUserData(userId)
  
  if (loading) return <Skeleton />
  return <div>{user?.name}</div>
}
```

### App Routeræ´»ç”¨

#### ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ§‹æˆ
```tsx
// app/users/[id]/page.tsx
interface PageProps {
  params: { id: string }
  searchParams: { [key: string]: string | undefined }
}

export default function UserPage({ params }: PageProps) {
  return (
    <main>
      <UserProfile userId={params.id} />
    </main>
  )
}

// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚‚å¿˜ã‚Œãšã«
export function generateMetadata({ params }: PageProps) {
  return {
    title: `ãƒ¦ãƒ¼ã‚¶ãƒ¼ ${params.id} ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«`
  }
}
```

#### Loadingãƒ»Errorãƒ»Not Foundã®æ´»ç”¨
```tsx
// loading.tsx - ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ä¸­
export default function Loading() {
  return <ProfileSkeleton />
}

// error.tsx - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
export default function Error({ error }: { error: Error }) {
  return <ErrorMessage message={error.message} />
}

// not-found.tsx - 404å¯¾å¿œ
export default function NotFound() {
  return <div>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€é©åŒ–
```tsx
// React.memoã§ä¸è¦ãªå†æç”»ã‚’é˜²ã
const UserCard = memo(function UserCard({ user, onClick }: Props) {
  return (
    <div onClick={() => onClick(user.id)}>
      {user.name}
    </div>
  )
})

// é‡ã„å‡¦ç†ã¯useMemoã§
function UserList({ users, searchTerm }: Props) {
  const filteredUsers = useMemo(() => {
    return users.filter(user => 
      user.name.toLowerCase().includes(searchTerm.toLowerCase())
    )
  }, [users, searchTerm])

  return <div>{filteredUsers.map(user => <UserCard key={user.id} user={user} />)}</div>
}
```

#### ç”»åƒæœ€é©åŒ–
```tsx
import Image from 'next/image'

// Next.jsã®Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ´»ç”¨
<Image
  src={user.avatar}
  alt={`${user.name}ã®ã‚¢ãƒã‚¿ãƒ¼`}
  width={100}
  height={100}
  priority // é‡è¦ãªç”»åƒã¯å„ªå…ˆèª­ã¿è¾¼ã¿
/>
```

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

#### Tailwind CSSæ´»ç”¨
```tsx
// æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Tailwind CSS v4ã‚’ä½¿ç”¨
function UserCard() {
  return <div className="bg-white p-4 rounded-lg shadow">...</div>
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### Error Boundaryã®æ´»ç”¨
```tsx
// components/ErrorBoundary.tsx
export function ErrorBoundary({ children }: { children: React.ReactNode }) {
  return (
    <ErrorBoundary fallback={<ErrorFallback />}>
      {children}
    </ErrorBoundary>
  )
}

// ä½¿ç”¨ä¾‹
function App() {
  return (
    <ErrorBoundary>
      <UserDashboard />
    </ErrorBoundary>
  )
}
```

### ã‚³ãƒ¡ãƒ³ãƒˆè¦å‰‡

#### æ›¸ãã¹ãã‚³ãƒ¡ãƒ³ãƒˆ
1. **ãªãœ**ãã®ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ãªã®ã‹
2. **è¤‡é›‘ãªå‡¦ç†**ã®èª¬æ˜
3. **å¤–éƒ¨ä¾å­˜**ã‚„**åˆ¶é™äº‹é …**
4. **TODO**ã‚„**FIXME**

```tsx
/**
 * æ¤ç‰©ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * 
 * NOTE: ç”»åƒã¯1MBä»¥ä¸‹ã«åˆ¶é™ï¼ˆã‚µãƒ¼ãƒãƒ¼å´åˆ¶é™ï¼‰
 * TODO: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºã‚’è¿½åŠ 
 */
export function PlantEditor({ plantId }: Props) {
  // ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡çŠ¶æ…‹ã‚’ç®¡ç†
  // APIã‚³ãƒ¼ãƒ«ä¸­ã¯é‡è¤‡é€ä¿¡ã‚’é˜²ãå¿…è¦ãŒã‚ã‚‹
  const [isSubmitting, setIsSubmitting] = useState(false)
}
```

### ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] **TypeScriptã‚¨ãƒ©ãƒ¼**ãŒãªã„ã‹
- [ ] **ESLintè­¦å‘Š**ã‚’è§£æ¶ˆã—ãŸã‹
- [ ] **å¿…è¦ãªã‚³ãƒ¡ãƒ³ãƒˆ**ã‚’æ›¸ã„ãŸã‹
- [ ] **è²¬å‹™ãŒé©åˆ‡ã«åˆ†é›¢**ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**ã«å•é¡Œãªã„ã‹
- [ ] **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**ã‚’è€ƒæ…®ã—ãŸã‹

## ç’°å¢ƒå¤‰æ•°

```env
# Supabaseè¨­å®šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼‰
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabaseè¨­å®šï¼ˆæœ¬ç•ªç”¨ï¼‰
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-production-anon-key

# OAuthè¨­å®š
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id
NEXT_PUBLIC_GITHUB_CLIENT_ID=your-github-client-id
```

## é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒèµ·å‹•
```bash
# Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒèµ·å‹•
supabase start -x vector -x logflare

# Next.jsé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
supabase migration new feature_name

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒªã‚»ãƒƒãƒˆ
supabase db reset

# å‹å®šç¾©ç”Ÿæˆ
supabase gen types typescript --local > src/lib/database.types.ts
```

### 3. å¿…è¦ãªä¾å­˜é–¢ä¿‚
```bash
# Supabaseé–¢é€£
npm install @supabase/supabase-js

# ãƒ•ã‚©ãƒ¼ãƒ ãƒ»çŠ¶æ…‹ç®¡ç†
npm install @tanstack/react-query react-hook-form @hookform/resolvers zod jotai

# UIãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
npm install clsx
```

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
- èªè¨¼æ©Ÿèƒ½å®Ÿè£…
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- ãƒšãƒ¼ã‚¸å®Ÿè£…

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### å˜ä½“ãƒ†ã‚¹ãƒˆ
- React Testing Library
- Jest
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã®ãƒ†ã‚¹ãƒˆ

### çµ±åˆãƒ†ã‚¹ãƒˆ
- APIé€šä¿¡ãƒ†ã‚¹ãƒˆ
- èªè¨¼ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œãƒ†ã‚¹ãƒˆ

### E2Eãƒ†ã‚¹ãƒˆ
- Cypress
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼å…¨ä½“ã®ãƒ†ã‚¹ãƒˆ

## ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥

### æœ¬ç•ªç’°å¢ƒ
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Vercel
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Supabase
- **ãƒ‰ãƒ¡ã‚¤ãƒ³**: ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆäºˆå®šï¼‰

### CI/CD
- GitHub Actions
- è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### ãƒ•ã‚§ãƒ¼ã‚º2
- æ¤ç‰©æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- æˆé•·ã‚°ãƒ©ãƒ•è¡¨ç¤º
- æ°´ã‚„ã‚Šçµ±è¨ˆæ©Ÿèƒ½

### ãƒ•ã‚§ãƒ¼ã‚º3
- ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- é«˜åº¦ãªçµ±è¨ˆãƒ»åˆ†æ
- PWAå¯¾å¿œ

## å‚è€ƒãƒªãƒ³ã‚¯

- [Supabase Documentation](https://supabase.com/docs)
- [React Documentation](https://react.dev/)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [TypeScript Documentation](https://www.typescriptlang.org/docs/)

## ãƒãƒ¼ãƒ é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´æ™‚**ï¼šå¿…ãš`docs/database-schema.sql`ã‚’æ›´æ–°
2. **æ©Ÿèƒ½è¿½åŠ æ™‚**ï¼šMVPæ©Ÿèƒ½è¦ä»¶æ›¸ã®æ›´æ–°ã‚’æ¤œè¨
3. **èªè¨¼é–¢é€£ã®å¤‰æ›´**ï¼šèªè¨¼è¨­è¨ˆæ›¸ã®æ›´æ–°ãŒå¿…è¦
4. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ›´æ–°æ™‚**ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç¢ºèª

---

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯é–‹ç™ºé€²æ—ã«å¿œã˜ã¦éšæ™‚æ›´æ–°ã—ã¦ãã ã•ã„ã€‚